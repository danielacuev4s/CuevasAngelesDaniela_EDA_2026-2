
#include <stdio.h>

#define ALUMNOS 10   // Número total de alumnos
#define CALIFS 7     // Número de calificaciones por alumno

/* Prototipos de funciones */
void leerCalificaciones(float califs[ALUMNOS][CALIFS]);
void promedioAlumno(float califs[ALUMNOS][CALIFS], float promedios[ALUMNOS]);
void promedioGrupo(float promedios[ALUMNOS], float *promGrupo);

int main() {

    // Arreglo bidimensional que almacena las calificaciones
    float calificaciones[ALUMNOS][CALIFS];

    // Arreglo que almacena el promedio de cada alumno
    float promediosAlumnos[ALUMNOS];

    // Variable para guardar el promedio general del grupo
    float promedioGeneral;

    // Llama a la función para leer las calificaciones (con validación)
    leerCalificaciones(calificaciones);

    // Calcula el promedio de cada alumno
    promedioAlumno(calificaciones, promediosAlumnos);

    // Calcula el promedio general del grupo
    promedioGrupo(promediosAlumnos, &promedioGeneral);

    // Muestra los promedios de cada alumno
    printf("\n--- PROMEDIO POR ALUMNO ---\n");
    for (int i = 0; i < ALUMNOS; i++) {
        printf("Alumno %d: %.2f\n", i + 1, promediosAlumnos[i]);
    }

    // Muestra el promedio del grupo
    printf("\nPromedio del grupo: %.2f\n", promedioGeneral);

    return 0; // Termina el programa
}

/*
 Función leerCalificaciones
 Solicita las calificaciones y valida que estén entre 0 y 10
*/
void leerCalificaciones(float califs[ALUMNOS][CALIFS]) {

    // Recorre cada alumno
    for (int i = 0; i < ALUMNOS; i++) {
        printf("\nAlumno %d\n", i + 1);

        // Recorre cada calificación del alumno
        for (int j = 0; j < CALIFS; j++) {

            do {
                // Solicita la calificación
                printf("Ingrese calificacion %d (0 a 10): ", j + 1);
                scanf("%f", &califs[i][j]);

                // Valida el rango permitido
                if (califs[i][j] < 0 || califs[i][j] > 10) {
                    printf("Error: la calificacion debe estar entre 0 y 10\n");
                }

            } while (califs[i][j] < 0 || califs[i][j] > 10);
        }
    }
}

/*
 Función promedioAlumno
 Calcula el promedio de cada alumno
*/
void promedioAlumno(float califs[ALUMNOS][CALIFS], float promedios[ALUMNOS]) {

    float suma; // Variable auxiliar para sumar calificaciones

    // Recorre cada alumno
    for (int i = 0; i < ALUMNOS; i++) {
        suma = 0; // Reinicia la suma

        // Suma las calificaciones del alumno
        for (int j = 0; j < CALIFS; j++) {
            suma += califs[i][j];
        }

        // Calcula y guarda el promedio del alumno
        promedios[i] = suma / CALIFS;
    }
}

/*
 Función promedioGrupo
 Calcula el promedio general del grupo
 usando paso por referencia
*/
void promedioGrupo(float promedios[ALUMNOS], float *promGrupo) {

    float suma = 0; // Variable para acumular los promedios

    // Suma los promedios de todos los alumnos
    for (int i = 0; i < ALUMNOS; i++) {
        suma += promedios[i];
    }

    // Calcula el promedio del grupo
    *promGrupo = suma / ALUMNOS;
}
