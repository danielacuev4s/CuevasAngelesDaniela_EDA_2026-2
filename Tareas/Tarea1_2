#include <stdio.h>

/* 
 Prototipos de funciones
 Cada función recibe los operandos y un apuntador
 donde se almacenará el resultado (paso por referencia)
*/
void suma(float a, float b, float *resultado);
void resta(float a, float b, float *resultado);
void multiplicacion(float a, float b, float *resultado);
void division(float a, float b, float *resultado);
void modulo(int a, int b, int *resultado);
void division_entera(int a, int b, int *resultado);

int main() {
    /*
     opcion: almacena la opción elegida por el usuario en el menú
     num1, num2: números flotantes para operaciones normales
     resultadoF: resultado flotante obtenido por referencia
     num1I, num2I: números enteros para módulo y división entera
     resultadoI: resultado entero obtenido por referencia
    */
    char opcion;
    float num1, num2, resultadoF;
    int num1I, num2I, resultadoI;

    /*
     El ciclo do-while permite que el menú se muestre
     al menos una vez y se repita hasta que el usuario
     elija la opción 'g' (Salir)
    */
    do {
        printf("\n===== CALCULADORA =====\n");
        printf("a) Suma\n");
        printf("b) Resta\n");
        printf("c) Multiplicacion\n");
        printf("d) Division\n");
        printf("e) Modulo\n");
        printf("f) Division entera\n");
        printf("g) Salir\n");
        printf("Seleccione una opcion: ");
        scanf(" %c", &opcion);

        /*
         switch-case evalúa la opción elegida
         y ejecuta la operación correspondiente
        */
        switch (opcion) {

            case 'a':
                printf("Ingrese dos numeros: ");
                scanf("%f %f", &num1, &num2);
                suma(num1, num2, &resultadoF);
                printf("Resultado: %.2f\n", resultadoF);
                break;

            case 'b':
                printf("Ingrese dos numeros: ");
                scanf("%f %f", &num1, &num2);
                resta(num1, num2, &resultadoF);
                printf("Resultado: %.2f\n", resultadoF);
                break;

            case 'c':
                printf("Ingrese dos numeros: ");
                scanf("%f %f", &num1, &num2);
                multiplicacion(num1, num2, &resultadoF);
                printf("Resultado: %.2f\n", resultadoF);
                break;

            case 'd':
                printf("Ingrese dos numeros: ");
                scanf("%f %f", &num1, &num2);
                if (num2 != 0) {
                    division(num1, num2, &resultadoF);
                    printf("Resultado: %.2f\n", resultadoF);
                } else {
                    printf("Error: Division entre cero\n");
                }
                break;

            case 'e':
                printf("Ingrese dos numeros enteros: ");
                scanf("%d %d", &num1I, &num2I);
                if (num2I != 0) {
                    modulo(num1I, num2I, &resultadoI);
                    printf("Resultado: %d\n", resultadoI);
                } else {
                    printf("Error: Modulo entre cero\n");
                }
                break;

            case 'f':
                printf("Ingrese dos numeros enteros: ");
                scanf("%d %d", &num1I, &num2I);
                if (num2I != 0) {
                    division_entera(num1I, num2I, &resultadoI);
                    printf("Resultado: %d\n", resultadoI);
                } else {
                    printf("Error: Division entera entre cero\n");
                }
                break;

            case 'g':
                printf("Saliendo de la calculadora...\n");
                break;

            default:
                printf("Opcion invalida\n");
        }

    } while (opcion != 'g');  // Repite el menú hasta salir

    return 0;
}

/* 
 Función suma
 Recibe dos números flotantes y guarda el resultado
 en la variable apuntada por resultado
*/
void suma(float a, float b, float *resultado) {
    *resultado = a + b;
}

/*
 Función resta
 Realiza la resta usando paso por referencia
*/
void resta(float a, float b, float *resultado) {
    *resultado = a - b;
}

/*
 Función multiplicacion
 Multiplica dos números y almacena el resultado por referencia
*/
void multiplicacion(float a, float b, float *resultado) {
    *resultado = a * b;
}

/*
 Función division
 Divide dos números flotantes (se valida el cero en main)
*/
void division(float a, float b, float *resultado) {
    *resultado = a / b;
}

/*
 Función modulo
 Calcula el residuo de la división entre dos enteros
*/
void modulo(int a, int b, int *resultado) {
    *resultado = a % b;
}

/*
 Función division_entera
 Realiza la división entera entre dos números
*/
void division_entera(int a, int b, int *resultado) {
    *resultado = a / b;
}
