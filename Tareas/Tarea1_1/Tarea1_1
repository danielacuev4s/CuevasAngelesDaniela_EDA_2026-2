#include <stdio.h>

/* 
 Prototipos de funciones
 Cada función recibe los operandos y un apuntador
 donde se almacenará el resultado (paso por referencia)
*/
void suma(float a, float b, float *resultado);
void resta(float a, float b, float *resultado);
void multiplicacion(float a, float b, float *resultado);
void division(float a, float b, float *resultado);
void modulo(int a, int b, int *resultado);
void division_entera(int a, int b, int *resultado);

int main() {
    /*
     opcion: almacena la opción elegida por el usuario en el menú
     num1, num2: números flotantes para operaciones normales
     resultadoF: resultado flotante obtenido por referencia
     num1I, num2I: números enteros para módulo y división entera
     resultadoI: resultado entero obtenido por referencia
    */
    char opcion;
    float num1, num2, resultadoF;
    int num1I, num2I, resultadoI;

    /*
     El ciclo do-while permite que el menú se muestre
     al menos una vez y se repita hasta que el usuario
     elija la opción 'g' (Salir)
    */
    do {
        printf("\n===== CALCULADORA =====\n");
        printf("a) Suma\n");
        printf("b) Resta\n");
        printf("c) Multiplicacion\n");
        printf("d) Division\n");
        printf("e) Modulo\n");
        printf("f) Division entera\n");
        printf("g) Salir\n");
        printf("Seleccione una opcion: ");
        scanf(" %c", &opcion);

        /*
         switch-case evalúa la opción elegida
         y ejecuta la operación correspondiente
        */
        switch (opcion) {

            case 'a':
                printf("Ingrese dos numeros: ");
                scanf("%f %f", &num1, &num2);
                suma(num1, num2, &resultadoF);
                printf("Resultado: %.2f\n", resultadoF);
                break;

            case 'b':
                printf("Ingrese dos numeros: ");
                scanf("%f %f", &num1, &num2);
                resta(num1, num2, &resultadoF);
                printf("Resultado: %.2f\n", resultadoF);
                break;

            case 'c':
                printf("Ingrese dos numeros: ");
                scanf("%f %f", &num1, &num2);
                multiplicacion(num1, num2, &resultadoF);
                printf("Resultado: %.2f\n", resultadoF);
                break;

            case 'd':
                printf("Ingrese dos numeros: ");
                scanf("%f %f", &num1, &num2);
                if (num2 != 0) {
                    division(num1, num2, &resultadoF);
                    printf("Resultado: %.2f\n", resultadoF);
                } else {
                    printf("Error: Division entre cero\n");
                }
                break;

            case 'e':
                printf("Ingrese dos numeros enteros: ");
                scanf("%d %d", &num1I, &num2I);
                if (num2I != 0) {
                    modulo(num1I, num2I, &resultadoI);
                    printf("Resultado: %d\n", resultadoI);
                } else {
                    printf("Error: Modulo entre cero\n");
                }
                break;

            case 'f':
                printf("Ingrese dos numeros enteros: ");
                scanf("%d %d", &num1I, &num2I);
                if (num2I != 0) {
                    division_entera(num1I, num2I, &resultadoI);
                    printf("Resultado: %d\n", resultadoI);
                } else {
                    printf("Error: Division entera entre cero\n");
                }
                break;

            case 'g':
                printf("Saliendo de la calculadora...\n");
                break;

            default:
                printf("Opcion invalida\n");
        }

    } while (opcion != 'g');  // Repite el menú hasta salir

    return 0;
}

/* 
 Función suma
 Recibe dos números flotantes y guarda el resultado
 en la variable apuntada por resultado
*/
void suma(float a, float b, float *resultado) {
    *resultado = a + b;
}

/*
 Función resta
 Realiza la resta usando paso por referencia
*/
void resta(float a, float b, float *resultado) {
    *resultado = a - b;
}

/*
 Función multiplicacion
 Multiplica dos números y almacena el resultado por referencia
*/
void multiplicacion(float a, float b, float *resultado) {
    *resultado = a * b;
}

/*
 Función division
 Divide dos números flotantes (se valida el cero en main)
*/
void division(float a, float b, float *resultado) {
    *resultado = a / b;
}

/*
 Función modulo
 Calcula el residuo de la división entre dos enteros
*/
void modulo(int a, int b, int *resultado) {
    *resultado = a % b;
}

/*
 Función division_entera
 Realiza la división entera entre dos números
*/#include <stdio.h>

#define ALUMNOS 10   // Número total de alumnos
#define CALIFS 7     // Número de calificaciones por alumno

/* Prototipos de funciones */
void leerCalificaciones(float califs[ALUMNOS][CALIFS]);
void promedioAlumno(float califs[ALUMNOS][CALIFS], float promedios[ALUMNOS]);
void promedioGrupo(float promedios[ALUMNOS], float *promGrupo);

int main() {

    // Arreglo bidimensional que almacena las calificaciones
    float calificaciones[ALUMNOS][CALIFS];

    // Arreglo que almacena el promedio de cada alumno
    float promediosAlumnos[ALUMNOS];

    // Variable para guardar el promedio general del grupo
    float promedioGeneral;

    // Llama a la función para leer las calificaciones (con validación)
    leerCalificaciones(calificaciones);

    // Calcula el promedio de cada alumno
    promedioAlumno(calificaciones, promediosAlumnos);

    // Calcula el promedio general del grupo
    promedioGrupo(promediosAlumnos, &promedioGeneral);

    // Muestra los promedios de cada alumno
    printf("\n--- PROMEDIO POR ALUMNO ---\n");
    for (int i = 0; i < ALUMNOS; i++) {
        printf("Alumno %d: %.2f\n", i + 1, promediosAlumnos[i]);
    }

    // Muestra el promedio del grupo
    printf("\nPromedio del grupo: %.2f\n", promedioGeneral);

    return 0; // Termina el programa
}

/*
 Función leerCalificaciones
 Solicita las calificaciones y valida que estén entre 0 y 10
*/
void leerCalificaciones(float califs[ALUMNOS][CALIFS]) {

    // Recorre cada alumno
    for (int i = 0; i < ALUMNOS; i++) {
        printf("\nAlumno %d\n", i + 1);

        // Recorre cada calificación del alumno
        for (int j = 0; j < CALIFS; j++) {

            do {
                // Solicita la calificación
                printf("Ingrese calificacion %d (0 a 10): ", j + 1);
                scanf("%f", &califs[i][j]);

                // Valida el rango permitido
                if (califs[i][j] < 0 || califs[i][j] > 10) {
                    printf("Error: la calificacion debe estar entre 0 y 10\n");
                }

            } while (califs[i][j] < 0 || califs[i][j] > 10);
        }
    }
}

/*
 Función promedioAlumno
 Calcula el promedio de cada alumno
*/
void promedioAlumno(float califs[ALUMNOS][CALIFS], float promedios[ALUMNOS]) {

    float suma; // Variable auxiliar para sumar calificaciones

    // Recorre cada alumno
    for (int i = 0; i < ALUMNOS; i++) {
        suma = 0; // Reinicia la suma

        // Suma las calificaciones del alumno
        for (int j = 0; j < CALIFS; j++) {
            suma += califs[i][j];
        }

        // Calcula y guarda el promedio del alumno
        promedios[i] = suma / CALIFS;
    }
}

/*
 Función promedioGrupo
 Calcula el promedio general del grupo
 usando paso por referencia
*/
void promedioGrupo(float promedios[ALUMNOS], float *promGrupo) {

    float suma = 0; // Variable para acumular los promedios

    // Suma los promedios de todos los alumnos
    for (int i = 0; i < ALUMNOS; i++) {
        suma += promedios[i];
    }

    // Calcula el promedio del grupo
    *promGrupo = suma / ALUMNOS;
}
